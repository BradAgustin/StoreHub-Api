<div class="p-3">
  <h1 *ngIf="currentProduct.id">Editar Producto</h1>
  <h1 *ngIf="!currentProduct.id">Agregar Nuevo Producto</h1>
  
  <mat-card class="p-4" style="max-width: 800px;">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <div class="grid">
        <div class="col-12 md:col-8">
          <mat-form-field class="w-full">
            <mat-label>Nombre del Producto</mat-label>
            <input matInput formControlName="name">
          </mat-form-field>
        </div>
        <div class="col-12 md:col-4">
          <mat-form-field class="w-full">
            <mat-label>Código (SKU)</mat-label>
            <input matInput formControlName="sku">
          </mat-form-field>
        </div>
        <div class="col-12 md:col-6">
          <mat-form-field class="w-full">
            <mat-label>Categoría</mat-label>
            <mat-select formControlName="category">
              <mat-option *ngFor="let cat of categories" [value]="cat.id">{{ cat.name }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-12 md:col-6 flex align-items-center">
           <mat-checkbox formControlName="is_active" color="primary">Producto Activo</mat-checkbox>
        </div>
        <div class="col-6">
          <mat-form-field class="w-full">
            <mat-label>Precio Venta</mat-label>
            <input matInput type="number" formControlName="price">
            <span matPrefix>$&nbsp;</span>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="w-full">
            <mat-label>Stock Inicial</mat-label>
            <input matInput type="number" formControlName="stock">
            <mat-hint *ngIf="currentProduct.id">Usa el botón "Ajustar" en la lista</mat-hint>
          </mat-form-field>
        </div>
      </div>
      <div class="flex justify-content-end mt-3 gap-2">
        <button mat-button color="warn" type="button" routerLink="/inventory/list">Cancelar</button>
        <button mat-raised-button color="primary" type="submit" [disabled]="productForm.invalid">
          <mat-icon>save</mat-icon> Guardar
        </button>
      </div>
    </form>
  </mat-card>
</div>
